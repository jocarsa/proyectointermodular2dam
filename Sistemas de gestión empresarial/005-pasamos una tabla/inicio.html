<!doctype html>
<html>
  <head>
    <style>
      html,body{width:100%;height:100%;padding:0px;margin:0px;}
      body{display:flex;}
      nav{flex:1;padding:20px;background:indigo;display:flex;flex-direction:column;gap:20px;}
      main{flex:7;padding:20px;}
      button{border:0px;background:white;color:indigo;padding:20px;}
      table{width:100%;border:3px solid indigo;padding:20px;border-radius:10px;}
    </style>
  </head>
  <body>
    <nav>
    </nav>
    <main>
    </main>
  </body>
  <script>
    // POBLAMOS EL MENU ///////////////////////////////////
    fetch("/api").then(function(respuesta){return respuesta.json()})
    .then(function(datos){
      let navegacion = document.querySelector("nav")
      datos.forEach(function(dato){
        let boton = document.createElement("button")
        boton.textContent = dato
        navegacion.appendChild(boton)
      })
    })
    // POBLAMOS LA TABLA
    let contenedor = document.querySelector("main")
    fetch("/tabla").then(function(respuesta){return respuesta.json()})
    .then(function(datos){
      // Primero creo una tabla
      let tabla = document.createElement("table");
      // Para cada uno de los datos enviados
      datos.forEach(function(dato){
        // Creamos una fila
      	let fila = document.createElement("tr")
        // Para cada elemento de la fila
        dato.forEach(function(celda){
          // Creamos una celda
        	let celdatd = document.createElement("td")
          // Le ponemos texto a la celda
          celdatd.textContent = celda
          // Añadimos la celda a la fila
          fila.appendChild(celdatd)
        })
        // Añadimos la fila a la tabla
        tabla.appendChild(fila)
      })
      contenedor.appendChild(tabla)
    })
  </script>
</html>

